# BASH FUNCTIONS

#--------------------------#
# Git (http://git-scm.com) #
#--------------------------#

# Git Root - Changes to project root directory (regardless of how deep the current path might currently be).
function groot() {
  cd "$(dirname $(git rev-parse --git-dir))"
}

# Git Status (all) - Answers the status of projects with uncommited/unpushed changes.
function gsta() {
  echo ''

  # Iterate project directories located in root directory.
  while read project; do
    (
      cd "$project"
      # Only process projects that are Git enabled.
      if [ -d ".git" ]; then
        # Capture current project status.
        results=$(git status --short --branch)
        # Print project name and Git activity only if Git activity is detected.
        if [ "$results" != "## master" ]; then
          echo -e "\033[36m${project:2}\033[m" # Outputs in cyan color.
          echo -e "$results"
        fi
      fi
    )
  done < <(find . -type d -depth 1)

  echo ''
}